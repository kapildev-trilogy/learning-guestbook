"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const AWS = require('aws-sdk');
const docClient = new AWS.DynamoDB.DocumentClient();
const commentTableUtils_1 = require("./commentTableUtils");
async function removeComment(commentIdentifier) {
    const params = {
        TableName: commentTableUtils_1.getTableName(),
        Key: {
            PK: commentTableUtils_1.getPK({ websiteUrl: commentIdentifier.websiteUrl }),
            SK: commentTableUtils_1.getSK({ creationDate: commentIdentifier.creationDate, authorEmail: commentIdentifier.authorEmail }),
        },
    };
    try {
        await docClient.delete(params).promise();
        return commentIdentifier;
    }
    catch (err) {
        console.log('DynamoDB error: ', err);
        return null;
    }
}
exports.default = removeComment;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVtb3ZlQ29tbWVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInJlbW92ZUNvbW1lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNLEdBQUcsR0FBRyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUM7QUFDL0IsTUFBTSxTQUFTLEdBQUcsSUFBSSxHQUFHLENBQUMsUUFBUSxDQUFDLGNBQWMsRUFBRSxDQUFDO0FBRXBELDJEQUFpRTtBQUVqRSxLQUFLLFVBQVUsYUFBYSxDQUFDLGlCQUFvQztJQUM3RCxNQUFNLE1BQU0sR0FBRztRQUNYLFNBQVMsRUFBRSxnQ0FBWSxFQUFFO1FBQ3pCLEdBQUcsRUFBRTtZQUNELEVBQUUsRUFBRSx5QkFBSyxDQUFDLEVBQUMsVUFBVSxFQUFFLGlCQUFpQixDQUFDLFVBQVUsRUFBQyxDQUFDO1lBQ3JELEVBQUUsRUFBRSx5QkFBSyxDQUFDLEVBQUMsWUFBWSxFQUFFLGlCQUFpQixDQUFDLFlBQVksRUFBRSxXQUFXLEVBQUUsaUJBQWlCLENBQUMsV0FBVyxFQUFDLENBQUM7U0FDeEc7S0FDSixDQUFDO0lBRUYsSUFBSTtRQUNBLE1BQU0sU0FBUyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUN6QyxPQUFPLGlCQUFpQixDQUFDO0tBQzVCO0lBQUMsT0FBTyxHQUFHLEVBQUU7UUFDVixPQUFPLENBQUMsR0FBRyxDQUFDLGtCQUFrQixFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQ3JDLE9BQU8sSUFBSSxDQUFDO0tBQ2Y7QUFDTCxDQUFDO0FBRUQsa0JBQWUsYUFBYSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgQVdTID0gcmVxdWlyZSgnYXdzLXNkaycpO1xuY29uc3QgZG9jQ2xpZW50ID0gbmV3IEFXUy5EeW5hbW9EQi5Eb2N1bWVudENsaWVudCgpO1xuaW1wb3J0IENvbW1lbnRJZGVudGlmaWVyIGZyb20gXCIuL0NvbW1lbnRJZGVudGlmaWVyXCI7XG5pbXBvcnQgeyBnZXRQSywgZ2V0U0ssIGdldFRhYmxlTmFtZSB9IGZyb20gXCIuL2NvbW1lbnRUYWJsZVV0aWxzXCI7XG5cbmFzeW5jIGZ1bmN0aW9uIHJlbW92ZUNvbW1lbnQoY29tbWVudElkZW50aWZpZXI6IENvbW1lbnRJZGVudGlmaWVyKSB7XG4gICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICBUYWJsZU5hbWU6IGdldFRhYmxlTmFtZSgpLFxuICAgICAgICBLZXk6IHtcbiAgICAgICAgICAgIFBLOiBnZXRQSyh7d2Vic2l0ZVVybDogY29tbWVudElkZW50aWZpZXIud2Vic2l0ZVVybH0pLFxuICAgICAgICAgICAgU0s6IGdldFNLKHtjcmVhdGlvbkRhdGU6IGNvbW1lbnRJZGVudGlmaWVyLmNyZWF0aW9uRGF0ZSwgYXV0aG9yRW1haWw6IGNvbW1lbnRJZGVudGlmaWVyLmF1dGhvckVtYWlsfSksXG4gICAgICAgIH0sXG4gICAgfTtcblxuICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGRvY0NsaWVudC5kZWxldGUocGFyYW1zKS5wcm9taXNlKCk7XG4gICAgICAgIHJldHVybiBjb21tZW50SWRlbnRpZmllcjtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0R5bmFtb0RCIGVycm9yOiAnLCBlcnIpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHJlbW92ZUNvbW1lbnQ7Il19